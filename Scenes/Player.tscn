[gd_scene load_steps=12 format=3 uid="uid://ck40427nwjh4a"]

[ext_resource type="Script" uid="uid://cyof7yimh0imn" path="res://Scripts/Player.gd" id="1_kyqiw"]
[ext_resource type="Texture2D" uid="uid://b3mwj6pl4q4vw" path="res://Assets/Bohater/Bohater_1.png" id="2_gntrk"]
[ext_resource type="Texture2D" uid="uid://8m6qcspndh80" path="res://Assets/Latarka2.png" id="3_gntrk"]
[ext_resource type="Texture2D" uid="uid://dx6igqywej83a" path="res://Assets/Bohater/Bohater_2.png" id="3_megsn"]
[ext_resource type="Script" uid="uid://cda2axq0xrgtj" path="res://Scripts/flashlight.gd" id="4_5ixxa"]
[ext_resource type="Texture2D" uid="uid://dos8lh5cxaiva" path="res://Assets/Bohater/Bohater_light.png" id="4_dewec"]
[ext_resource type="Texture2D" uid="uid://c3lvykqm1dhv0" path="res://Assets/Bohater/Bohater_3.png" id="4_yoq75"]
[ext_resource type="Script" uid="uid://j6o3u1tpa67w" path="res://Scripts/walking_player.gd" id="5_5ixxa"]
[ext_resource type="AudioStream" uid="uid://bu8q6fu6xik1b" path="res://Audio/walking-96582-no-noise.wav" id="5_nn08x"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_dewec"]
radius = 28.500174
height = 95.99999

[sub_resource type="SpriteFrames" id="SpriteFrames_ksbbd"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_gntrk")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_gntrk")
}, {
"duration": 1.0,
"texture": ExtResource("3_megsn")
}, {
"duration": 1.0,
"texture": ExtResource("4_yoq75")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[node name="Player" type="Node2D"]

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
motion_mode = 1
script = ExtResource("1_kyqiw")

[node name="playerCollision2D" type="CollisionShape2D" parent="CharacterBody2D"]
z_index = 1
position = Vector2(-1, 8)
rotation = 1.5711471
shape = SubResource("CapsuleShape2D_dewec")

[node name="playerSprite" type="AnimatedSprite2D" parent="CharacterBody2D"]
rotation = 1.5707964
scale = Vector2(0.1, 0.1)
sprite_frames = SubResource("SpriteFrames_ksbbd")
animation = &"idle"

[node name="flashlight" type="PointLight2D" parent="CharacterBody2D"]
position = Vector2(33, -400)
rotation = -1.5707964
scale = Vector2(0.5653326, 1.2411348)
texture = ExtResource("3_gntrk")
script = ExtResource("4_5ixxa")

[node name="Area2D" type="Area2D" parent="CharacterBody2D/flashlight"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="CharacterBody2D/flashlight/Area2D"]
position = Vector2(3.537735, 0.80571556)
polygon = PackedVector2Array(-638.56213, -10.474297, -383.84485, -67.68001, 145.0473, -188.53714, 284.7881, -170.0057, 405.07117, -150.66855, 553.6564, -107.9657, 650.9442, -64.45712, 691.6282, -24.171413, 693.3971, 45.120014, 658.01965, 78.1543, 555.4252, 122.46858, 443.98633, 155.50287, 359.08057, 175.6457, 291.86353, 188.53712, 199.88232, 199.01141, -344.9297, 76.54285, -638.56213, 9.668558)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="CharacterBody2D"]
stream = ExtResource("5_nn08x")
volume_db = 8.0
script = ExtResource("5_5ixxa")

[node name="playerSilouette" type="PointLight2D" parent="CharacterBody2D"]
rotation = 1.5707964
scale = Vector2(0.1, 0.1)
energy = 0.8
texture = ExtResource("4_dewec")

[connection signal="body_entered" from="CharacterBody2D/flashlight/Area2D" to="CharacterBody2D/flashlight" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="CharacterBody2D/flashlight/Area2D" to="CharacterBody2D/flashlight" method="_on_area_2d_body_exited"]
